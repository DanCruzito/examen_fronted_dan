{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  data() {\n    return {\n      libros: [],\n      autores: [],\n      libro: {\n        name: \"\"\n      },\n      errors: {}\n    };\n  },\n  created() {\n    this.getAutores();\n  },\n  methods: {\n    getAutores() {\n      this.axios.get(\"http://127.0.0.1:8000/api/autor\").then(response => {\n        console.log(response.data);\n        this.autores = response.data;\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    saveAutor() {\n      //alert('jola')\n      this.axios.post(\"http://127.0.0.1:8000/api/autor-registro\", this.autor).then(response => {\n        console.log(response.data);\n        this.autores.push(response.data);\n        this.autor = {\n          name: \"\"\n        };\n        this.errors = [];\n      }).catch(error => {\n        console.log(error);\n        this.errors = Object.values(error.response.data.errors).flat();\n      });\n    },\n    deleteAutor(id) {\n      alert(id);\n      this.axios.get(\"http://127.0.0.1:8000/api/autor-eliminar/\" + id).then(() => {\n        this.autores = this.autores.filter(autor => autor.id != id);\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n  }\n};","map":{"version":3,"names":["data","libros","autores","libro","name","errors","created","getAutores","methods","axios","get","then","response","console","log","catch","error","saveAutor","post","autor","push","Object","values","flat","deleteAutor","id","alert","filter"],"sources":["C:\\www\\vue_fronted\\src\\views\\libro\\libro_lista.vue"],"sourcesContent":["<template>\r\n    <div class=\"container\">\r\n      <h1>Listado de Libros</h1>\r\n      <div class=\"card m-2\">\r\n          <div class=\"card body\">\r\n              <ul v-if=\"errors.length > 0\">\r\n          <li class=\"text-danger\" v-for=\"error in errors\" :key=\"error.id\">\r\n           {{ error }}\r\n          </li>\r\n      </ul>\r\n      <form @submit.prevent=\"saveLibro\">\r\n        <div class=\"form-group m-3\">\r\n          <label for=\"titulo\">Titulo</label><br />\r\n          <input class=\"form-control\" v-model=\"libro.titulo\" type=\"text\" id=\"titulo\" />\r\n        </div>\r\n        <div class=\"form-group m-3\">\r\n          <label for=\"lote\">Lote</label><br />\r\n          <input class=\"form-control\" v-model=\"libro.lote\" type=\"text\" id=\"lote\" />\r\n        </div>\r\n        <div class=\"form-group m-3\">\r\n          <label for=\"descripcion\">Descripci√≥n</label><br />\r\n          <input class=\"form-control\" v-model=\"libro.descripcion\" type=\"text\" id=\"descripcion\" />\r\n        </div>\r\n        <br />\r\n        <div>\r\n          <button type=\"submit\" class=\"btn btn-success\">Registrar</button>\r\n        </div>\r\n      </form>\r\n          </div>\r\n      </div>\r\n      \r\n      <div class=\"card\">\r\n        <div class=\"card-body\">\r\n          <table class=\"table table-striped\">\r\n            <thead>\r\n              <tr>\r\n                <th scope=\"col\">#</th>\r\n                <th scope=\"col\">Autor</th>\r\n                <th scope=\"col\">Acciones</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr v-for=\"(row, index) in autores\" :key=\"row.id\">\r\n                <th scope=\"row\">{{ index + 1 }}</th>\r\n                <td>\r\n                  {{ row.name }}\r\n                </td>\r\n                <td>\r\n                  <router-link\r\n                    :to=\"{ name: 'autor_detalle', params: { id: row.id } }\"\r\n                    ><button class=\"btn btn-warning btn-sm mx-1\">Ver autor</button></router-link\r\n                  >\r\n                  <router-link\r\n                    :to=\"{ name: 'autor_edit', params: { id: row.id } }\"\r\n                  >\r\n                  <button class=\"btn btn-primary btn-sm mx-1\">Editar</button>\r\n                    \r\n                  </router-link>\r\n                  <button\r\n                    @click=\"deleteAutor(row.id)\"\r\n                    class=\"btn btn-danger btn-sm\"\r\n                  >\r\n                    Eliminar\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        libros: [],\r\n        autores: [],\r\n        libro: {\r\n          name: \"\",\r\n        },\r\n        errors:{}\r\n      };\r\n    },\r\n    created() {\r\n      this.getAutores();\r\n    },\r\n    methods: {\r\n      getAutores() {\r\n        this.axios\r\n          .get(\"http://127.0.0.1:8000/api/autor\")\r\n          .then((response) => {\r\n            console.log(response.data);\r\n            this.autores = response.data;\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n          });\r\n      },\r\n      saveAutor() {\r\n        //alert('jola')\r\n        this.axios\r\n          .post(\"http://127.0.0.1:8000/api/autor-registro\", this.autor)\r\n          .then((response) => {\r\n            console.log(response.data);\r\n  \r\n            this.autores.push(response.data);\r\n            this.autor = {\r\n              name: \"\",\r\n            };\r\n  \r\n            this.errors = [];\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n            this.errors = Object.values(error.response.data.errors).flat();\r\n           \r\n          });\r\n      },\r\n      deleteAutor(id) {\r\n        alert(id);\r\n        this.axios\r\n          .get(\"http://127.0.0.1:8000/api/autor-eliminar/\" + id)\r\n          .then(() => {\r\n            this.autores = this.autores.filter((autor) => autor.id != id);\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n            \r\n          });\r\n      },\r\n    },\r\n  };\r\n  </script>\r\n  \r\n  <style>\r\n  </style>"],"mappings":";AA0EE,eAAe;EACbA,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,MAAM,EAAE,EAAE;MACVC,OAAO,EAAE,EAAE;MACXC,KAAK,EAAE;QACLC,IAAI,EAAE;MACR,CAAC;MACDC,MAAM,EAAC,CAAC;IACV,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,UAAU,CAAC,CAAC;EACnB,CAAC;EACDC,OAAO,EAAE;IACPD,UAAUA,CAAA,EAAG;MACX,IAAI,CAACE,KAAI,CACNC,GAAG,CAAC,iCAAiC,EACrCC,IAAI,CAAEC,QAAQ,IAAK;QAClBC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACZ,IAAI,CAAC;QAC1B,IAAI,CAACE,OAAM,GAAIU,QAAQ,CAACZ,IAAI;MAC9B,CAAC,EACAe,KAAK,CAAEC,KAAK,IAAK;QAChBH,OAAO,CAACC,GAAG,CAACE,KAAK,CAAC;MACpB,CAAC,CAAC;IACN,CAAC;IACDC,SAASA,CAAA,EAAG;MACV;MACA,IAAI,CAACR,KAAI,CACNS,IAAI,CAAC,0CAA0C,EAAE,IAAI,CAACC,KAAK,EAC3DR,IAAI,CAAEC,QAAQ,IAAK;QAClBC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACZ,IAAI,CAAC;QAE1B,IAAI,CAACE,OAAO,CAACkB,IAAI,CAACR,QAAQ,CAACZ,IAAI,CAAC;QAChC,IAAI,CAACmB,KAAI,GAAI;UACXf,IAAI,EAAE;QACR,CAAC;QAED,IAAI,CAACC,MAAK,GAAI,EAAE;MAClB,CAAC,EACAU,KAAK,CAAEC,KAAK,IAAK;QAChBH,OAAO,CAACC,GAAG,CAACE,KAAK,CAAC;QAClB,IAAI,CAACX,MAAK,GAAIgB,MAAM,CAACC,MAAM,CAACN,KAAK,CAACJ,QAAQ,CAACZ,IAAI,CAACK,MAAM,CAAC,CAACkB,IAAI,CAAC,CAAC;MAEhE,CAAC,CAAC;IACN,CAAC;IACDC,WAAWA,CAACC,EAAE,EAAE;MACdC,KAAK,CAACD,EAAE,CAAC;MACT,IAAI,CAAChB,KAAI,CACNC,GAAG,CAAC,2CAA0C,GAAIe,EAAE,EACpDd,IAAI,CAAC,MAAM;QACV,IAAI,CAACT,OAAM,GAAI,IAAI,CAACA,OAAO,CAACyB,MAAM,CAAER,KAAK,IAAKA,KAAK,CAACM,EAAC,IAAKA,EAAE,CAAC;MAC/D,CAAC,EACAV,KAAK,CAAEC,KAAK,IAAK;QAChBH,OAAO,CAACC,GAAG,CAACE,KAAK,CAAC;MAEpB,CAAC,CAAC;IACN;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}