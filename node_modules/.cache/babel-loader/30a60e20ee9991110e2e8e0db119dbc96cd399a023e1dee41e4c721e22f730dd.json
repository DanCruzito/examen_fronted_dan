{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  data() {\n    return {\n      autores: [],\n      autor: {\n        name: ''\n      }\n    };\n  },\n  created() {\n    this.getAutores();\n  },\n  methods: {\n    getAutores() {\n      this.axios.get('http://127.0.0.1:8000/api/autor').then(response => {\n        console.log(response.data);\n        this.autores = response.data;\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    saveAutor() {\n      //alert('jola')\n      this.axios.post('http://127.0.0.1:8000/api/autor-registro', this.autor).then(response => {\n        console.log(response.data);\n        this.autores.push(response.data);\n        this.autor = {\n          name: ''\n        };\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    deleteAutor(id) {\n      alert(id);\n      this.axios.get('http://127.0.0.1:8000/api/autor-eliminar/' + id).then(() => {\n        this.autores = this.autores.filter(autor => autor.id != id);\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n  }\n};","map":{"version":3,"names":["data","autores","autor","name","created","getAutores","methods","axios","get","then","response","console","log","catch","error","saveAutor","post","push","deleteAutor","id","alert","filter"],"sources":["C:\\www\\vue_fronted\\src\\views\\autor\\autor_lista.vue"],"sourcesContent":["<template>\r\n    <h1>Listado de Autores</h1>\r\n    <form @submit.prevent=\"saveAutor\">\r\n        <div>\r\n           <label for=\"name\">Nombre del Autor</label><br>\r\n           <input v-model=\"autor.name\" type=\"text\" id=\"name\">\r\n        </div><br>\r\n        <div>\r\n            <button type=\"submit\">Registrar</button>\r\n        </div>\r\n    </form>\r\n\r\n    <table border=\"1\">\r\n        <tr>\r\n            <th>NOMBRE</th>\r\n            <th>ACCIONES</th>\r\n        </tr>\r\n        <tr v-for=\"row in autores\" :key=\"row.id\">\r\n            <td>{{ row.name }}</td>\r\n            <td> <router-link :to=\"{name: 'autor_detalle',params: {id:row.id}}\">\r\n                 editar\r\n            </router-link>\r\n            <button @click=\"deleteAutor(row.id)\">Eliminar</button>\r\n           </td>\r\n        </tr>\r\n    </table>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            autores: [],\r\n            autor:{\r\n                name: '',\r\n            }\r\n        }\r\n    },\r\n    created() {\r\n        this.getAutores();\r\n    },\r\n    methods: {\r\n        getAutores(){\r\n          this.axios.get('http://127.0.0.1:8000/api/autor')\r\n          .then(response =>{\r\n            console.log(response.data);\r\n            this.autores = response.data\r\n          })\r\n          .catch(error => {\r\n            console.log(error);\r\n          })\r\n        },\r\n        saveAutor(){\r\n            //alert('jola')\r\n            this.axios.post('http://127.0.0.1:8000/api/autor-registro',this.autor)\r\n          .then(response =>{\r\n            console.log(response.data);\r\n               \r\n               this.autores.push(response.data);\r\n               this.autor = {\r\n                name: '',\r\n               }\r\n          })\r\n          .catch(error => {\r\n            console.log(error);\r\n          })\r\n        },\r\n        deleteAutor(id){\r\n            alert(id)\r\n            this.axios.get('http://127.0.0.1:8000/api/autor-eliminar/'+id)\r\n          .then(() =>{\r\n            this.autores = this.autores.filter(autor => autor.id != id)\r\n          })\r\n          .catch(error => {\r\n            console.log(error);\r\n          })\r\n        }\r\n    },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>"],"mappings":";AA6BA,eAAe;EACXA,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,OAAO,EAAE,EAAE;MACXC,KAAK,EAAC;QACFC,IAAI,EAAE;MACV;IACJ;EACJ,CAAC;EACDC,OAAOA,CAAA,EAAG;IACN,IAAI,CAACC,UAAU,CAAC,CAAC;EACrB,CAAC;EACDC,OAAO,EAAE;IACLD,UAAUA,CAAA,EAAE;MACV,IAAI,CAACE,KAAK,CAACC,GAAG,CAAC,iCAAiC,EAC/CC,IAAI,CAACC,QAAO,IAAI;QACfC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACV,IAAI,CAAC;QAC1B,IAAI,CAACC,OAAM,GAAIS,QAAQ,CAACV,IAAG;MAC7B,CAAC,EACAa,KAAK,CAACC,KAAI,IAAK;QACdH,OAAO,CAACC,GAAG,CAACE,KAAK,CAAC;MACpB,CAAC;IACH,CAAC;IACDC,SAASA,CAAA,EAAE;MACP;MACA,IAAI,CAACR,KAAK,CAACS,IAAI,CAAC,0CAA0C,EAAC,IAAI,CAACd,KAAK,EACtEO,IAAI,CAACC,QAAO,IAAI;QACfC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACV,IAAI,CAAC;QAEvB,IAAI,CAACC,OAAO,CAACgB,IAAI,CAACP,QAAQ,CAACV,IAAI,CAAC;QAChC,IAAI,CAACE,KAAI,GAAI;UACZC,IAAI,EAAE;QACP;MACL,CAAC,EACAU,KAAK,CAACC,KAAI,IAAK;QACdH,OAAO,CAACC,GAAG,CAACE,KAAK,CAAC;MACpB,CAAC;IACH,CAAC;IACDI,WAAWA,CAACC,EAAE,EAAC;MACXC,KAAK,CAACD,EAAE;MACR,IAAI,CAACZ,KAAK,CAACC,GAAG,CAAC,2CAA2C,GAACW,EAAE,EAC9DV,IAAI,CAAC,MAAK;QACT,IAAI,CAACR,OAAM,GAAI,IAAI,CAACA,OAAO,CAACoB,MAAM,CAACnB,KAAI,IAAKA,KAAK,CAACiB,EAAC,IAAKA,EAAE;MAC5D,CAAC,EACAN,KAAK,CAACC,KAAI,IAAK;QACdH,OAAO,CAACC,GAAG,CAACE,KAAK,CAAC;MACpB,CAAC;IACH;EACJ;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}